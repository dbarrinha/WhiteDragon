<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="content">
        <div class="ui-g">
            <div class="ui-g-12">
                
				<script>
					function handleDrop(event, ui) {
				        var droppedCar = ui.draggable;
				        droppedCar.fadeOut('fast');
				    }
				</script>	
					
                
                <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  				<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
                
            </div>
                <div class="ui-g-12 ui-g-nopad">
		            <div class="ui-g">
		            	<h:form id="form">
			                <p:fieldset id="availableCarsField" legend="Available Cars">
						        <p:dataTable id="availableCars" var="tarefa" value="#{timeController.tarefas}">
						            <p:column style="width:20px">
						                <h:outputText id="dragIcon" styleClass="ui-icon ui-icon-arrow-4" />
						                <p:draggable for="dragIcon" revert="true" helper="clone"/>
						            </p:column>
						 
						            <p:column headerText="Id">
						                <h:outputText value="#{tarefa.descricao}" />
						            </p:column>
						 
						            <p:column headerText="Year">
						                <h:outputText value="#{tarefa.duracao}" />
						            </p:column>
						 
						        </p:dataTable>
						    </p:fieldset>
						 
						    <p:fieldset id="selectedCars" legend="Selected Cars" style="margin-top:20px">
						        <p:outputPanel id="dropArea">
						            <h:outputText value="!!!Drop here!!!" rendered="#{empty timeController.tarefasDropadas}" style="font-size:24px;" />
						            <p:dataTable id="selectedCarsTable" var="tarefa" value="#{timeController.tarefasDropadas}" rendered="#{not empty timeController.tarefasDropadas}">
						                <p:column style="width:20px">
							                <h:outputText id="dragIcon" styleClass="ui-icon ui-icon-arrow-4" />
							                <p:draggable for="dragIcon" revert="true" helper="clone"/>
							            </p:column>
						                
						                <p:column headerText="Id">
						                <h:outputText value="#{tarefa.descricao}" />
						            </p:column>
						 
						            <p:column headerText="Year">
						                <h:outputText value="#{tarefa.duracao}" />
						            </p:column>  
						            </p:dataTable>
						        </p:outputPanel>
						    </p:fieldset>
						 
						    <p:droppable for="selectedCars" tolerance="touch" activeStyleClass="ui-state-highlight" datasource="availableCars" onDrop="handleDrop">
						        <p:ajax listener="#{timeController.onDrop}" update="dropArea availableCars" />
						    </p:droppable>
						    <p:droppable for="availableCarsField" tolerance="touch" activeStyleClass="ui-state-highlight" datasource="selectedCars" onDrop="handleDrop">
						        <p:ajax listener="#{timeController.onDrop2}" update="dropArea availableCars" />
						    </p:droppable>
						    
			           	</h:form>          
		            </div>
		 
		        </div>
        </div>
        
    </ui:define>

</ui:composition>