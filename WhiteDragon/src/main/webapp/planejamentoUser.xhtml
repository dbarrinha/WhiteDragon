<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="content">
        <div class="ui-g">
            <div class="ui-g-12">
            	<style>
            		.droptarget, .droptarget1 {
					    border: 1px solid #aaaaaa;
					}
            	
            	</style>
            
            	<script type="text/javascript">

            	document.addEventListener("dragstart", function(event) {
            	    event.dataTransfer.setData("Text", event.target.id);
            	    document.getElementById("demo").innerHTML = "Started to drag the p element.";
            	    event.target.style.opacity = "0.4";
            	});

            	document.addEventListener("dragend", function(event) {
            	    event.target.style.opacity = "1";
            	});


            	/* Events fired on the drop target */

            	// When the draggable p element enters the droptarget, change the DIVS's border style
            	document.addEventListener("dragenter", function(event) {
            	    if ( event.target.className == "droptarget1" || event.target.className == "droptarget") {
            	        event.target.style.border = "3px dotted red";
            	        alert( event.target.className);
            	    }
            	});

            	// By default, data/elements cannot be dropped in other elements. To allow a drop, we must prevent the default handling of the element
            	document.addEventListener("dragover", function(event) {
            	    event.preventDefault();
            	});

            	// When the draggable p element leaves the droptarget, reset the DIVS's border style
            	document.addEventListener("dragleave", function(event) {
            	    if ( event.target.className == "droptarget1" || event.target.className == "droptarget") {
            	        event.target.style.border = "";
            	    }
            	});

            	
            	document.addEventListener("drop", function(event) {
            	    event.preventDefault();
            	    if ( event.target.className == "droptarget1" || event.target.className == "droptarget") {
            	        document.getElementById("demo").style.color = "";
            	        event.target.style.border = "";
            	        var data = event.dataTransfer.getData("Text");
            	        event.target.appendChild(document.getElementById(data));
            	    }
            	});
				</script>
                
                <h:form id="form">
	                		<div class="ui-g-6 ui-md-3">
				                <p:fieldset legend="Hoje #{timeController.dataAtual(0)}">
									<ul id="1" class="droptarget" >
										<p:repeat var="tarefa" value="#{timeController.tarefas}">
											<li class="dragtarget" draggable="true">#{tarefa.descricao}<sup><small>#{tarefa.duracao}</small></sup></li>
										</p:repeat>
									</ul>
								</p:fieldset>
			                </div>
			                  
			                <div class="ui-g-6 ui-md-3">
			                	<p:fieldset legend="#{timeController.diaSemana(1)} #{timeController.dataAtual(1)}">
									<ul id="2" class="droptarget1" >
										<p:repeat var="tarefa" value="#{timeController.tarefas}">
											<li class="dragtarget" draggable="true">#{tarefa.descricao}<sup><small>#{tarefa.duracao}</small></sup></li>
										</p:repeat>
									</ul>
								</p:fieldset>
			                </div>
                
                
                </h:form>
            </div>
        </div>
        
    </ui:define>

</ui:composition>